{% extends 'base.html' %}
{% load template_extras %}
{% comment %} {% load static %} {% endcomment %}
{% block title %} Results {% endblock %}
{% block content %}

{% if has_results %}
    {% comment %} # TODO styling {% endcomment %}
    <div class="row mb-3">
        <div class="col">
        {% for mtype, mtype_data in results.items %}
            <hr><h2>{{ mtype }}</h2>
            {% for ranking_method, ranking_data in mtype_data.items %}
                    <h5>{{ ranking_method }}</h5>
                    {% for el in ranking_data %}
                        <p>{{ forloop.counter }} {{ items|keyvalue:el.id|keyvalue:'name' }} [{{ el.score }}] </p> 
                    {% endfor %}

            {% empty %}
                <p> 404 {{ mtype }} </p>
            {% endfor %}
        {% endfor %}
        </div>
    </div>

    {% comment %} <div class="row mb-3">
        <div class="col">
        {% for item in items.values %}
            <p> {{item}} </p>
        {% endfor %}
        </div>
    </div> {% endcomment %}

{% else %}
    404, bello!
{% endif %}
{% endblock %}