<!-- templates/userdata.html -->

{% extends 'base.html' %}
{% block title %} Your social media data {% endblock %}
{% block content %}
    <div class="row my-auto mb-3">
        <div class="col-sm-10">
            <h4 class="text-left"> Welcome <b>{{ user.username }}</b> </h4>
        </div>
        <div class="col-sm-2 text-center">
            <a class="btn btn-danger" href="{% url 'logout' %}">Logout</a>
        </div>
    </div>

    {% for data in backends.associated %}
        {% if data.provider == 'facebook' %}
            <div class="col-sm-12 mt-2 text-center">
               <div class="row mt-3 mb-5">
                    <div class="col-md-3">
                        <img src="{{data.extra_data.picture.data.url}}" alt="" width="150" height="150" style="border-radius: 10%">
                    </div>
                    <div class="col-md-7 social-container text-left">
                        <p> <b>Signed in via:</b> {{ data.provider }} </p>
                        <p> <b>Name:</b> {{ data.extra_data.name }} </p>
                        <p> <b>Email:</b> {{ data.extra_data.email }} </p>
                        <p> <b>Provider url:</b> <a href="{{data.extra_data.profile_url}}">link</a></p>
                    </div>
               </div>
            {% for key, value in data.extra_data.items %}
               {% if forloop.counter >= 12 %}
                <div class ="col-sm-12 my-3 text-left">
                    <p><b>{{ key }}</b></p>
                    <p><textarea class="query-content">{{ value }}</textarea></p>
                </div>
                {% endif %}
            {% endfor %}
            </div>   
        {% endif %}
    {% endfor %}
{% endblock %}